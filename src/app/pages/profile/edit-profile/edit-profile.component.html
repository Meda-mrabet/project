<div *ngIf="user" class="container form-control p-6">
  <div class="float-end"><button class="btn btn-close" (click)="closeModal()"></button> </div>
<div class="row">
  <div class="col-md-4 border-right">
    <div class="d-flex flex-column align-items-center text-center p-3 py-5" >



      <div class="image-upload">
        <label for="file-input">
          <img title="change Profile photo" class="rounded-circle mt-5 img " width="150px"

               src="{{(user.photoURL) ? user.photoURL : '/assets/no-image.png'}}" >
<!--          src="{{(src) ? src : '/assets/no-image.png'}}" >-->
          <img src="assets/change_picture.png"  title="change Profile photo 2"  class="icon change-image" />
        </label>
        <input  (change)="selectFile($event)" id="file-input" type="file" />
        <div class="{{selectedFiles ? '': 'visually-hidden'}}">
        <button
          class="btn btn-success btn-sm"
          [disabled]="!selectedFiles"
          (click)="upload()">

          Upload
          
        </button>
        </div>

        <div *ngIf="currentFileUpload" class="progress mt-2">
          <div class="progress-bar progress-bar-info" role="progressbar"
               attr.aria-valuenow="{{percentage}}"
               aria-valuemin="0" aria-valuemax="100"
            [ngStyle]="{ width: percentage + '%' }"
          > {{ percentage }}%
          </div>
        </div>
      </div>
      <span class="font-weight-bold">{{user.displayName}}</span><span class="text-black-50">{{user.email}}</span><span> </span></div>
  </div>



  <div class="col-md-8 border-left" >
  <h4>Edit User Profile</h4>
  <form #userForm="ngForm" (ngSubmit)="onUpdate()">
    <div class="form-group">
      <label>Full Name</label>
      <input class="form-control" name="name" #displayName="ngModel"
             [(ngModel)]="user.displayName" placeholder="Full Name" required>
    </div>
    <div class="form-group">
      <label>Email</label>
      <input class="form-control" name="email" #email="ngModel"
             [(ngModel)]="user.email" placeholder="email" required>
    </div>
    <div class="form-group">
      <label>Phone Number</label>
      <input class="form-control" type="number" name="phoneNumber" #phoneNumber="ngModel"
             [(ngModel)]="user.phoneNumber" placeholder="phoneNumber" >
    </div>

    <div class="form-group">
      <label>Role</label>
      <select class="form-control" name="roles"  [(ngModel)]="Currentuser.roles.client">
        <option  [ngValue]="false"  >User</option>
        <option  [ngValue]="true"  >Client</option>
      </select>
    </div>


    <div class="form-group">
      <label>Address</label>
       <div class="input-group">
        <div class="input-group-addon">
          <i class="bi bi-currency-dollar"></i>
        </div>
        <input class="form-control" name="address" #address="ngModel"
        [(ngModel)]="user.address.city" placeholder="address" required>
      </div>
    </div>
    <div class="form-group  float-right mt-2">
      <button type="submit" class="btn btn-success save" [disabled]="!userForm.valid">
        <i class="bi bi-plus "></i>Save Profile</button>
    </div>
  </form>
  </div><!--row - left element-->
</div><!--  row-->
</div>

